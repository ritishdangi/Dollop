<h2 class="heading">ðŸŽ« All Tickets</h2>

<ul *ngIf="tickets.length; else noTickets" class="ticket-list">
  <li *ngFor="let t of tickets" class="ticket-item">
    
    <!-- ðŸŸ¢ Customer Name on Top -->
    <p class="customer-name"><strong>Customer:</strong> {{ t.customerName || 'Loading...' }}</p>

    <div class="ticket-header">
      <h3>{{ t.title }}</h3>
      <span class="status-badge" [ngClass]="t.status">{{ t.status }}</span>
    </div>

    <p class="description">{{ t.description }}</p>

    <div class="meta">
      <span><strong>Priority:</strong> {{ t.priority }}</span>
      <span><strong>Assigned CSR:</strong> {{ t.assignedToId || 'Unassigned' }}</span>
      <span><strong>Created:</strong> {{ t.createdAt | date: 'short' }}</span>
    </div>
  </li>
</ul>

<ng-template #noTickets>
  <p class="empty-msg">No tickets available.</p>
</ng-template>

<button class="back-btn" routerLink="/admin-dashboard">â¬… Back to Dashboard</button>
